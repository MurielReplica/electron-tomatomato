<!DOCTYPE html>
  <html>
    <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <title>Tomoto</title>

      <script>
        window.jQuery = window.$ = require('../../asset/js/jquery-3.3.1.min.js');
      </script>

      <!-- UIKit -->
      <link rel="stylesheet" href="../../asset/css/uikit_custom.css" />
      <script src="../../asset/js/uikit_custom.js"></script>
      <script src="../../asset/js/uikit-icons.min.js"></script>

      <!-- common style -->
      <link rel="stylesheet" href="../../asset/css/common.css">
    </head>

    <body id="body">
      <div class="uk-section uk-text-center" >
        <div class="uk-child-width-1-2" uk-grid>

          <div class="uk-width-1-2" id="tomatimer">

          <!-- tomato -->
          <p>
            <img src="../../asset/img/tomato.png" alt="" style="width: 50%;">
          </p>

          <!-- timer -->
          <div class="uk-grid-small uk-child-width-auto uk-flex-center" uk-grid uk-countdown="" id="timer">
              <div>
                  <div class="uk-countdown-number uk-countdown-hours"></div>
                  <div class="uk-countdown-label uk-text-center" style="margin-top: -15%;">Hours</div>
              </div>
              <div class="uk-countdown-separator">:</div>
              <div>
                  <div class="uk-countdown-number uk-countdown-minutes"></div>
                  <div class="uk-countdown-label  uk-text-center" style="margin-top: -15%;">Minutes</div>
              </div>
              <div class="uk-countdown-separator">:</div>
              <div>
                  <div class="uk-countdown-number uk-countdown-seconds"></div>
                  <div class="uk-countdown-label  uk-text-center" style="margin-top: -15%;">Seconds</div>
              </div>
          </div>

          <form style="margin-top: 10px;margin-bottom: -2px;">
              <fieldset class="uk-fieldset">
                  <div class="uk-margin">
                      <div class="uk-inline">
                          <a class="uk-form-icon" href="#" uk-icon="icon: pencil"></a>
                          <input class="uk-input" type="text" id="todo">
                      </div>
                  </div>
              </fieldset>
          </form>

          <!-- start button -->
          <div class="uk-child-width-1-3 uk-grid-small uk-text-center ct-grid-start-button" uk-grid>
              <div class="uk-width-1-3">
                  <button id="aaa" class="uk-button uk-button-primary ct-start-button" type="button" name="button" onclick="startCountdown(3,0);">3 min.</button>
              </div>
              <div class="uk-width-1-3">
                  <button class="uk-button uk-button-primary ct-start-button" type="button" name="button" onclick="startCountdown(6,0);">6 min.</button>
              </div>
              <div class="uk-width-1-3">
                  <button class="uk-button uk-button-primary ct-start-button" type="button" name="button" onclick="startCountdown(12,0);">12 min.</button>
              </div>
              <div class="uk-width-1-3">
                  <button class="uk-button uk-button-primary ct-start-button" type="button" name="button" onclick="startCountdown(0,6);">6 sec.</button>
              </div>
              <div class="uk-width-1-3">
                  <button class="uk-button uk-button-primary ct-start-button" type="button" name="button" onclick="startCountdown(0,30);">30 sec.</button>
              </div>
              <div class="uk-width-1-3">
                  <button class="uk-button uk-button-primary ct-start-button" type="button" name="button" onclick="startCountdown(0,45);">45 sec.</button>
              </div>
          </div>

          <!-- other button -->
          <div class="uk-child-width-1-2 uk-grid-small uk-text-center ct-grid-start-button" uk-grid>
              <div class="uk-width-1-2">
                  <button class="uk-button ct-background-green ct-other-button" type="button" name="button" onclick="stopCountdown()">stop</button>
              </div>
              <div class="uk-width-1-2">
                  <button class="uk-button uk-button-default ct-other-button" type="button" name="button" onclick="resetCountdown();">reset</button>
              </div>
          </div>

        </div><!-- /.uk-width-1-2 -->


        <div class="uk-width-1-2 uk-text-left">
          
          <h3 style="color: #666;">Done List</h3>
            <article class="uk-article" id="donelist">
                <!-- <p class="uk-article-meta"></p> -->
            </article>          
        </div><!-- /.uk-width-1-2 -->

      </div><!-- /.uk-section -->

      <!-- done list -->

      <!-- sound effect -->
      <audio src="../../asset/se/zihou.mp3" id="zihou"></audio>

      <script src="../../asset/js/countdown.js" charset="utf-8"></script>
      <script type="text/javascript">

        //var m=3;
        //var s=0;
        //var ipc = require('electron').ipcRenderer;

        $(function(){
          // カウントダウン開始日時をセット
          UIkit.countdown('#timer', {date: setStartDt(m,s).toISOString()});
          stopCountdown();
        });

        // // 現在時刻にカウントダウンの時間を加算してスタート日時を作る
        // function setStartDt(pm, ps) {
        //   var dt = new Date();
        //   dt.setMinutes(dt.getMinutes() + pm);
        //   dt.setSeconds(dt.getSeconds() + (ps+1));
        //   return dt;
        // }
        // 
        // function initCountdown(pm, ps){
        //   console.log('m -> '+m);
        //   console.log('pm -> '+pm);
        //   console.log('s -> '+s);
        //   console.log('ps -> '+ps);
        // 
        //   if (pm!==m || ps!==s) {
        //     UIkit.countdown('#timer', {date: setStartDt(pm,ps).toISOString()});
        //     m=pm;
        //     s=ps;
        //   }
        // }
        // 
        // function startCountdown(pm, ps){
        //   console.log('start m -> '+m);
        //   console.log('start pm -> '+pm);
        //   console.log('start s -> '+s);
        //   console.log('start ps -> '+ps);
        // 
        // 
        //   initCountdown(pm,ps);
        //   UIkit.countdown('#timer').start();
        //   return false;
        // }
        // 
        // function stopCountdown(){
        //   UIkit.countdown('#timer').stop();
        //   return false;
        // }
        // 
        // function resetCountdown(){
        //   console.log('reset');
        //   pm=m;
        //   ps=s;
        //   m=0;
        //   s=0;
        //   initCountdown(pm,ps);
        //   UIkit.countdown('#timer').stop();
        //   return false;
        // }
        // 
        // function endCountdown(){
        //   resetCountdown();
        // 
        //   // ipc.send('actionEnd', function(event, response){
        //   //     //console.log(response);
        //   // })
        //   // ipc.once('actionRes', function(event, response){
        //   //   console.log(response);
        //   // })
        // 
        //   // ipc.sendSync('actionEndSync', 'bow')
        //   // ipcRenderer.on('actionResSync', (event, response) => {
        //   //   console.log(response)
        //   //
        //   ipc.send('actionEndSync', 'bowbow')
        // 
        //   //return false;
        // }
        // 
        // function zihou(){
        //   $("#zihou")[0].play();
        // }
      </script>


      <script type="text/javascript">
      </script>

    </body>
  </html>
